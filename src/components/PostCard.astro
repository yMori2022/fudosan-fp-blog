---
// ブログ記事カードコンポーネント
// 受け取る props: post (astro:content の blog コレクションのエントリ)
import TagLink from '@/components/TagLink.astro';
const { post } = Astro.props as {
  post: {
    slug: string;
    data: {
      title: string;
      description?: string;
      pubDate: Date;
      tags?: string[];
    };
  };
};
---

<a
  href={`/blog/${post.slug}/`}
  class="block rounded-xl border border-slate-200/80 dark:border-zinc-800 bg-white/70 dark:bg-zinc-900/60 shadow-sm hover:shadow-md transition-shadow duration-200"
>
  <article class="p-6">
    <time class="text-xs font-medium text-slate-500 dark:text-slate-400">
      {post.data.pubDate.toLocaleDateString('ja-JP')}
    </time>
    <h2 class="mt-2 text-xl font-semibold text-slate-900 dark:text-white">
      {post.data.title}
    </h2>
    {post.data.description && (
      <p class="mt-2 text-slate-600 dark:text-slate-300">
        {post.data.description}
      </p>
    )}
    {post.data.tags?.length ? (
      <ul class="mt-3 flex flex-wrap gap-2">
        {post.data.tags.map((tag) => (
          <li>
            <TagLink tag={tag} />
          </li>
        ))}
      </ul>
    ) : null}
    <span class="mt-4 inline-flex items-center gap-1 text-sm text-blue-600 dark:text-blue-400">
      続きを読む
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4">
        <path fill-rule="evenodd" d="M13.293 4.293a1 1 0 0 1 1.414 0l6 6a1 1 0 0 1 0 1.414l-6 6a1 1 0 1 1-1.414-1.414L17.586 12l-4.293-4.293a1 1 0 0 1 0-1.414Z" clip-rule="evenodd" />
        <path fill-rule="evenodd" d="M3 12a1 1 0 0 1 1-1h15a1 1 0 1 1 0 2H4a1 1 0 0 1-1-1Z" clip-rule="evenodd" />
      </svg>
    </span>
  </article>
</a>
